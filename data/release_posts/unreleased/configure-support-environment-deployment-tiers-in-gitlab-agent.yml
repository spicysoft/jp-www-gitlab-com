---
features:
  secondary:
  - name: "Support environment deployment tiers in GitLab agent"
    available_in: [premium, ultimate]
    gitlab_com: true
    documentation_link: 'https://docs.gitlab.com/ee/user/clusters/agent/ci_cd_workflow.html#impersonate-the-cicd-job-that-accesses-the-cluster).'
    reporter: nagyv-gitlab
    stage: configure
    categories:
    - Kubernetes Management
    - Deployment Management
    issue_url: 'https://gitlab.com/gitlab-org/gitlab/-/issues/357934'
    description: |
      The agent for Kubernetes allows both pull- and push-based deployment support. Push-based support is provided through its GitLab CI/CD integration, called the CI/CD workflow. The integration allows [restricting the potential of CI jobs using Kubernetes RBAC](https://docs.gitlab.com/ee/user/clusters/agent/ci_cd_workflow.html#impersonate-the-cicd-job-that-accesses-the-cluster).

      Until now, users could not restrict CI access to specific [environment tiers](https://docs.gitlab.com/ee/ci/environments/#deployment-tier-of-environments), increasing the security risks of the integration. The current release expands the `groups` the impersonated CI job account belongs to with environment-tier specific information. Kubernetes admins can target these groups with RBAC for improved control of CI access to clusters.
